
// CONVERT TO REACT OR EJS, NOT STATIC HTML

<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Byn Search</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@1/dist/instantsearch.min.css" />
  
  <!--[if lte IE 9]>
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
  <![endif]-->

  <!-- Bootstrap Core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

  <!-- Theme CSS -->
  <link href="css/agency.css" rel="stylesheet">
        
  <style type="text/css">
      /* Set a size for our map container, the Google Map will take up 100% of this container */
      #map {
          width: 50vw;
          height: 88vh;
      }
  </style>
  

    <script src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;libraries=places"></script>

  <script type="text/javascript">
      // When the window has finished loading create our google map below

      //

      var jsonObj = [
      ]

      google.maps.event.addDomListener(window, 'load', init);
  
      function init() {
          // Basic options for a simple Google Map
          // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions
          var mapOptions = {
              // How zoomed in you want the map to start at (always required)
              zoom: 12,

              // The latitude and longitude to center the map (always required)
              center: new google.maps.LatLng(37.7749, -122.4194), // SF

              // How you would like to style the map. 
              // This is where you would paste any style found on Snazzy Maps.
              styles: [
              {
                "featureType": "all",
                "elementType": "labels.text.fill",
                "stylers": [
                {
                  "saturation": 36
                },
                {
                  "color": "#ffffff"
                },
                {
                  "lightness": 40
                }
                ]
              },
              {
                "featureType": "all",
                "elementType": "labels.text.stroke",
                "stylers": [
                {
                  "visibility": "simplified"
                },
                {
                  "color": "#000000"
                },
                {
                  "lightness": 16
                },
                {
                  "saturation": "6"
                }
                ]
              },
              {
                "featureType": "all",
                "elementType": "labels.icon",
                "stylers": [
                {
                  "visibility": "off"
                }
                ]
              },
              {
                "featureType": "administrative",
                "elementType": "geometry.fill",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 20
                },
                {
                  "saturation": "-22"
                },
                {
                  "visibility": "off"
                }
                ]
              },
              {
                "featureType": "administrative",
                "elementType": "geometry.stroke",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 17
                },
                {
                  "weight": 1.2
                },
                {
                  "saturation": "-50"
                },
                {
                  "visibility": "off"
                }
                ]
              },
              {
                "featureType": "landscape",
                "elementType": "geometry",
                "stylers": [
                {
                  "color": "#262626"
                },
                {
                  "lightness": 20
                }
                ]
              },
              {
                "featureType": "landscape.natural.landcover",
                "elementType": "geometry",
                "stylers": [
                {
                  "visibility": "off"
                },
                {
                  "color": "#808080"
                }
                ]
              },
              {
                "featureType": "landscape.natural.terrain",
                "elementType": "geometry.fill",
                "stylers": [
                {
                  "visibility": "on"
                },
                {
                  "color": "#888888"
                },
                {
                  "saturation": "0"
                },
                {
                  "gamma": "0.28"
                },
                {
                  "lightness": "0"
                }
                ]
              },
              {
                "featureType": "landscape.natural.terrain",
                "elementType": "labels.icon",
                "stylers": [
                {
                  "visibility": "on"
                },
                {
                  "color": "#ffffff"
                }
                ]
              },
              {
                "featureType": "poi",
                "elementType": "geometry",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 21
                }
                ]
              },
              {
                "featureType": "poi",
                "elementType": "labels.icon",
                "stylers": [
                {
                  "visibility": "off"
                },
                {
                  "color": "#000000"
                }
                ]
              },
              {
                "featureType": "road.highway",
                "elementType": "geometry.fill",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 17
                }
                ]
              },
              {
                "featureType": "road.highway",
                "elementType": "geometry.stroke",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 29
                },
                {
                  "weight": 0.2
                }
                ]
              },
              {
                "featureType": "road.arterial",
                "elementType": "geometry",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 18
                }
                ]
              },
              {
                "featureType": "road.local",
                "elementType": "geometry",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 16
                }
                ]
              },
              {
                "featureType": "transit",
                "elementType": "geometry",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 19
                }
                ]
              },
              {
                "featureType": "water",
                "elementType": "geometry",
                "stylers": [
                {
                  "color": "#000000"
                },
                {
                  "lightness": 17
                }
                ]
              }
              ]
          };

          // Get the HTML DOM element that will contain your map 
          // We are using a div with id="map" seen below in the <body>
          var mapElement = document.getElementById('map');

          // Create the Google Map using our element and options defined above
          var map = new google.maps.Map(mapElement, mapOptions);

          // Use an API to add points onto a google map

          // Let's also add a marker while we're at it
          var marker = new google.maps.Marker({
              position: new google.maps.LatLng(37.77161987976003, -122.41175708468246),
              map: map,
              title: 'Extra Space at Horzions'
          });

          // <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.7858229727653!2d-122.41175708468246!3d37.77161987976003!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808f7e291f4b8047%3A0xbe403957c3609ae0!2s450+9th+St%2C+San+Francisco%2C+CA+94103!5e0!3m2!1sen!2sus!4v1501743043751" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>

      }
  </script>
</head>
<body>

  <!-- Navigation -->
    <nav id="mainNav" class="navbar navbar-default navbar-custom navbar-fixed-top affix" style="background-color: black;">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <img src="img/companyLogos/BynLogo2.png" class="logoimgsearchpage" style="margin-bottom: 10px">
                <!-- <a class="navbar-brand page-scroll" href="#page-top">Byn</a> -->
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a href="#">List Your Byn</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
  <!-- /Header -->

  <!-- Filters and map -->
  <div class="container-fluid" style="margin-top: 100px;">
    <div class="row">

      <!-- Left col -->
      <div class="col-sm-7 aisdemo--left-column" style="overflow: scroll;">

        <div class="aisdemo-filters">
          <!-- Dates & Guests -->
          <div class="row aisdemo-filter">
            <div style="margin-top: 10px">
              <div class="col-sm-2 aisdemo-filter-title">Where:</div>
              <input id="geocomplete" type="text" class="form-control" placeholder="Where?" name="where" aria-describedby="sizing-addon1" style="display: block; width: 80%; margin-left: 3%;">
            </div>
            <div style="margin-top: 10px">
              <div class="col-sm-2 aisdemo-filter-title">When:</div>
              <input id="daterange" value="" type="text" class="form-control" placeholder="When?" name="when" aria-describedby="sizing-addon1" style="display: block; width: 80%; margin-left: 3%;">
            </div>
          </div>
          <!-- Room types -->
          <div class="row aisdemo-filter">
            <div class="col-sm-2 aisdemo-filter-title">Byn Size:</div>
            <div id="room_types"></div>
          </div>
          <!-- Price -->
          <div class="row aisdemo-filter">
            <div class="col-sm-2 aisdemo-filter-title">Price:</div>
            <div class="col-sm-3" id="price"></div>
            <div class="col-sm-2 aisdemo-filter-title">Distance:</div>
            <div class="col-sm-3" id="distance"></div>
          </div>
        </div>

        <div class="row">
          <div id="stats"></div>
        </div>

        <!-- Results -->
        <div class="container-fluid" id="results" style="overflow: scroll; margin: 0;">
            <div id="hits"></div>
          <div class="row">
            <div id="pagination"></div>
            <div class="thank-you">Data from <a href="https://www.airbnb.com/">airbnb.com</a>, user pics from <a href="https://randomuser.me/">randomuser.me</a></div>
          </div>
        </div>
        <!-- /Results -->

      </div>
      <!-- /Left col -->

      <!-- Right col -->
      <div class="col-sm-5 aisdemo--right-column">
        <div id="map"></div>
      </div>
      <!-- /Right col -->

    </div>
  </div>
  <!-- /Filters and Map -->

 
    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@1/dist/instantsearch.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/instantsearch-googlemaps/1/instantsearch-googlemaps.min.js"></script>
  <script src="/search/search.js"></script>

    <!-- Geocomplete -->
    <!-- <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCinPgLpBRlw5s2-NoI8s5cgyEMR30mkcU&libraries=places"></script> -->
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> -->

    <script src="./js/jquery.geocomplete.js"></script>

    <!-- Moment JS for Date Range Picker -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>

    <!-- Include Date Range Picker -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

    <!-- Date Range Picker -->
    <script type="text/javascript">
    $(function() {

        $("#daterange").daterangepicker({
          autoUpdateInput: false,
          locale: {
              cancelLabel: 'Clear'
          },
          applyClass: 'btn-default',
          opens: 'center'
      });

      $("#daterange").on('apply.daterangepicker', function(ev, picker) {
          $(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
      });

      $("#daterange").on('cancel.daterangepicker', function(ev, picker) {
          $(this).val('');
      });

  });
    </script>

    <!-- Autofill Location Search -->

    <script>
      $(function(){
        
        $("#geocomplete").geocomplete()
          .bind("geocode:result", function(event, result){
            $.log("Result: " + result.formatted_address);
          })
          .bind("geocode:error", function(event, status){
            $.log("ERROR: " + status);
          })
          .bind("geocode:multiple", function(event, results){
            $.log("Multiple: " + results.length + " results found");
          });
        
        $("#find").click(function(){
          $("#geocomplete").trigger("geocode");
        });
        
        
        $("#examples a").click(function(){
          $("#geocomplete").val($(this).text()).trigger("geocode");
          return false;
        });
        
      });
    </script>

    <!-- Theme JavaScript -->
    <script src="js/agency.min.js"></script>

    <!-- Algolia -->
    <script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>


</body>
</html>
